 src/sw/noc_dev/prototype/Gui/mainwindow.cpp | 56 +++++++++++++++++++----------
 1 file changed, 37 insertions(+), 19 deletions(-)

diff --git a/src/sw/noc_dev/prototype/Gui/mainwindow.cpp b/src/sw/noc_dev/prototype/Gui/mainwindow.cpp
index e9b11881d8d..cf058c6982e 100644
--- a/src/sw/noc_dev/prototype/Gui/mainwindow.cpp
+++ b/src/sw/noc_dev/prototype/Gui/mainwindow.cpp
@@ -7296,25 +7296,43 @@ QAction* MainWindow::getLayerActById(NetSpeed::Layer_id layer_id)
 
 QList<QAction*> MainWindow::getAddObjectActions() const
 {
-    return QList<QAction*>({ instrumentsActMap[ADD_HOST],
-                           instrumentsActMap[ADD_CSB],
-                           instrumentsActMap[ADD_CCC],
-                           instrumentsActMap[ADD_DVM],
-                           instrumentsActMap[ADD_LLC],
-                           instrumentsActMap[ADD_ICCC],
-                           instrumentsActMap[ADD_DAU],
-                           instrumentsActMap[ADD_IOCB],
-                           instrumentsActMap[ADD_CACHE],
-                           instrumentsActMap[ADD_AHB_DOCK],
-                           instrumentsActMap[ADD_CHI2AXI],
-                           instrumentsActMap[ADD_IDI2AXI],
-                           instrumentsActMap[ADD_IDI2CMI],
-                           instrumentsActMap[ADD_PCI2AXI],
-                           instrumentsActMap[ADD_BRIDGE],
-                           instrumentsActMap[ADD_SIB],
-                           instrumentsActMap[ADD_RBC],
-                           instrumentsActMap[ADD_ROUTER2ROUTER]
-        });
+    QList<QAction*> listAddObjectActions;
+    listAddObjectActions.push_back(instrumentsActMap[ADD_HOST]);
+    listAddObjectActions.push_back(instrumentsActMap[ADD_BRIDGE]);
+    listAddObjectActions.push_back(instrumentsActMap[ADD_ROUTER2ROUTER]);
+
+    if (NetSpeed::Config::enable_coherency()) {
+        listAddObjectActions.push_back(instrumentsActMap[ADD_CCC]);
+        listAddObjectActions.push_back(instrumentsActMap[ADD_ICCC]);
+    }
+    if (NetSpeed::Config::enable_axi()) {
+        listAddObjectActions.push_back(instrumentsActMap[ADD_CSB]);
+        listAddObjectActions.push_back(instrumentsActMap[ADD_DVM]);
+        listAddObjectActions.push_back(instrumentsActMap[ADD_LLC]);
+        listAddObjectActions.push_back(instrumentsActMap[ADD_DAU]);
+        listAddObjectActions.push_back(instrumentsActMap[ADD_IOCB]);
+        listAddObjectActions.push_back(instrumentsActMap[ADD_CACHE]);
+        listAddObjectActions.push_back(instrumentsActMap[ADD_SIB]);
+        if (NetSpeed::Flag::enable_idi)
+            listAddObjectActions.push_back(instrumentsActMap[ADD_IDI2AXI]);
+        if (NetSpeed::LIC_FEATURES::CHI)
+            listAddObjectActions.push_back(instrumentsActMap[ADD_CHI2AXI]);
+    }
+    if (NetSpeed::Config::enable_ahb()) {
+        listAddObjectActions.push_back(instrumentsActMap[ADD_AHB_DOCK]);
+    }
+    if (NetSpeed::Flag::enable_cmi && NetSpeed::Flag::enable_idi && c &&
+        c->get_command(NetSpeed::Command_idx(QString(CMD_ADD_IDI2CMI).toStdString()))) {
+        listAddObjectActions.push_back(instrumentsActMap[ADD_IDI2CMI]);
+    }
+    if (NetSpeed::Config::enable_axi()) {
+        listAddObjectActions.push_back(instrumentsActMap[ADD_PCI2AXI]);
+    }
+
+    if (NetSpeed::Config::enable_axi()) {
+        listAddObjectActions.push_back(instrumentsActMap[ADD_RBC]);
+    }
+    return listAddObjectActions;
 }
 
 void MainWindow::setTextTooltipWindow(const QString tooltip) {
